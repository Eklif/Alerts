<!DOCTYPE html>
<html>
<head>
    <title>Отправить сообщение на стрим</title>
</head>
<body>
    <h1>Напиши что-нибудь, и это появится на стриме!</h1>
    <form id="messageForm" action="/send_alert" method="POST" autocomplete="off">
        <input type="text" name="username" placeholder="Твое имя" required>
        <br>
        <textarea name="text" placeholder="Текст сообщения..." required></textarea>
        <br>
        <button type="submit" id="submitBtn">Отправить</button>
    </form>
    <p>Сообщения можно отправить раз в 10 секунд!</p>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('messageForm');
            const submitBtn = document.getElementById('submitBtn');
            
            form.addEventListener('submit', function(e) {
                // Блокируем кнопку
                submitBtn.disabled = true;
                submitBtn.textContent = 'Отправка...';
                
                // Очищаем форму после небольшой задержки
                setTimeout(() => {
                    form.reset();
                    
                    // Убираем POST из истории браузера
                    if (window.history.replaceState) {
                        window.history.replaceState(null, null, window.location.href);
                    }
                    
                    // Разблокируем через 10 секунд
                    setTimeout(() => {
                        submitBtn.disabled = false;
                        submitBtn.textContent = 'Отправить';
                    }, 10000);
                }, 100);
            });
        });
    </script>

    <style>
        body {
            display: grid;
            place-items: center;
            min-height: 50vh;
            margin: 0;
            background-color: black; 
        }

        h1 {
            font-family: 'Segoe Print';
            color: red;
        }
        p {
            font-family: 'Segoe Print';
            color: red;
        }
        
        input[type="text"], textarea {
            width: 300px;
            margin: 10px 0;
            padding: 8px;
        }
        
        #submitBtn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
    </style>
</body>
</html>
